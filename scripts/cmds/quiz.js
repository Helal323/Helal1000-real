const quizList = [
  // ЁЯЗзЁЯЗй Bangladesh related
  {
    question: "ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЬрж╛рждрзАржпрж╝ ржлрзБрж▓ ржХрзА?",
    options: ["A  рж╢рж╛ржкрж▓рж╛", "B  ржЧрзЛрж▓рж╛ржк", "C  ржХрж╛ржаржЧрзЛрж▓рж╛ржк", "D  ржЬржмрж╛ ржлрзБрж▓"],
    answer: "рж╢рж╛ржкрж▓рж╛"
  },
  {
    question: "ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЬрж╛рждрзАржпрж╝ ржлрж▓ ржХрзА?",
    options: ["A  ржХрж╛ржБржарж╛рж▓", "B  ржЖржо", "C  рж▓рж┐ржЪрзБ", "D  ржХрж▓рж╛"],
    answer: "ржХрж╛ржБржарж╛рж▓"
  },
  {
    question: "ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЬрж╛рждрзАржпрж╝ ржкрж╛ржЦрж┐ ржХрзА?",
    options: ["A  ржжрзЛрзЯрзЗрж▓", "B  ржЪрзЬрзБржЗ", "C  ржорзЯржирж╛", "D  ржЯрж┐рзЯрзЗ"],
    answer: "ржжрзЛрзЯрзЗрж▓"
  },
  {
    question: "ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЬрж╛рждрзАржпрж╝ ржкрж╢рзБ ржХрзА?",
    options: ["A  рж░ржпрж╝рзЗрж▓ ржмрзЗржЩрзНржЧрж▓ ржЯрж╛ржЗржЧрж╛рж░", "B  ржЧрж░рзБ", "C  ржЫрж╛ржЧрж▓", "D  рж╣рж╛рждрж┐"],
    answer: "рж░ржпрж╝рзЗрж▓ ржмрзЗржЩрзНржЧрж▓ ржЯрж╛ржЗржЧрж╛рж░"
  },
  {
    question: "ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЬрж╛рждрзАржпрж╝ ржХржмрж┐ ржХрзЗ?",
    options: ["A  рж░ржмрзАржирзНржжрзНрж░ржирж╛рже ржарж╛ржХрзБрж░", "B  ржХрж╛ржЬрзА ржиржЬрж░рзБрж▓ ржЗрж╕рж▓рж╛ржо", "C  ржЬрзАржмржирж╛ржиржирзНржж ржжрж╛рж╢", "D  ржорж╛ржЗржХрзЗрж▓ ржоржзрзБрж╕рзВржжржи ржжрждрзНржд"],
    answer: "ржХрж╛ржЬрзА ржиржЬрж░рзБрж▓ ржЗрж╕рж▓рж╛ржо"
  },
  {
    question: "ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЬрж╛рждрзАржпрж╝ рж╕ржВржЧрзАрждрзЗрж░ ржирж╛ржо ржХрзА?",
    options: ["A  ржЖржорж╛рж░ рж╕рзЛржирж╛рж░ ржмрж╛ржВрж▓рж╛", "B  ржЬржи ржЧржг ржоржи", "C  ржзржиржзрж╛ржирзНржпрзЗ ржкрзБрж╖рзНржкрзЗ ржнрж░рж╛", "D  ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржорж╛ржиржЪрж┐рждрзНрж░"],
    answer: "ржЖржорж╛рж░ рж╕рзЛржирж╛рж░ ржмрж╛ржВрж▓рж╛"
  },
  {
    question: "ЁЯПЩя╕П ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ рж░рж╛ржЬржзрж╛ржирзА ржХрзЛржиржЯрж┐?",
    options: ["A  ржврж╛ржХрж╛", "B  ржЪржЯрзНржЯржЧрзНрж░рж╛ржо", "C  ржЦрзБрж▓ржирж╛", "D  ржмрж░рж┐рж╢рж╛рж▓"],
    answer: "ржврж╛ржХрж╛"
  },
  {
    question: "ЁЯЧУя╕П ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрж┐ржмрж╕ ржХржмрзЗ?",
    options: ["A  рзирзз ржлрзЗржмрзНрж░рзБржпрж╝рж╛рж░рж┐", "B  рзирзм ржорж╛рж░рзНржЪ", "C  рззрзм ржбрж┐рж╕рзЗржорзНржмрж░", "D  рзз ржЬрж╛ржирзБржпрж╝рж╛рж░рж┐"],
    answer: "рзирзм ржорж╛рж░рзНржЪ"
  },
  {
    question: "ЁЯМ╛ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЬрж╛рждрзАржпрж╝ ржмрзГржХрзНрж╖ ржХрзЛржиржЯрж┐?",
    options: ["A  ржЖржоржЧрж╛ржЫ", "B  ржмржЯржЧрж╛ржЫ", "C  ржирж╛рж░ржХрзЗрж▓ ржЧрж╛ржЫ", "D  рждрж╛рж▓ржЧрж╛ржЫ"],
    answer: "ржЖржоржЧрж╛ржЫ"
  },

  // ЁЯМН General Knowledge
  {
    question: "ЁЯМО ржкрзГржерж┐ржмрзАрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ ржорж╣рж╛ржжрзЗрж╢ ржХрзЛржиржЯрж┐?",
    options: ["A  ржПрж╢рж┐ржпрж╝рж╛", "B  ржЗржЙрж░рзЛржк", "C  ржЖржлрзНрж░рж┐ржХрж╛", "D  ржЕрж╕рзНржЯрзНрж░рзЗрж▓рж┐ржпрж╝рж╛"],
    answer: "ржПрж╢рж┐ржпрж╝рж╛"
  },
  {
    question: "ЁЯМК ржмрж┐рж╢рзНржмрзЗрж░ ржжрзАрж░рзНржШрждржо ржиржжрзА ржХрзЛржиржЯрж┐?",
    options: ["A  ржирзАрж▓ ржиржж", "B  ржЕрзНржпрж╛ржорж╛ржЬржи", "C  ржЧржЩрзНржЧрж╛", "D  ржЗржпрж╝рж╛ржВржЬрж┐"],
    answer: "ржирзАрж▓ ржиржж"
  },
  {
    question: "ЁЯМЛ ржХрзЛржи ржЧрзНрж░рж╣ржХрзЗ тАШрж▓рж╛рж▓ ржЧрзНрж░рж╣тАЩ ржмрж▓рж╛ рж╣ржпрж╝?",
    options: ["A  ржоржЩрзНржЧрж▓", "B  рж╢рзБржХрзНрж░", "C  ржкрзГржерж┐ржмрзА", "D  рж╢ржирж┐"],
    answer: "ржоржЩрзНржЧрж▓"
  },
  {
    question: "тШАя╕П рж╕рзВрж░рзНржп ржХрзЛржи ржЧрзНржпрж╛рж╕ ржжрзНржмрж╛рж░рж╛ ржЧржарж┐ржд?",
    options: ["A  рж╣рж╛ржЗржбрзНрж░рзЛржЬрзЗржи ржУ рж╣рж┐рж▓рж┐ржпрж╝рж╛ржо", "B  ржЕржХрзНрж╕рж┐ржЬрзЗржи ржУ ржирж╛ржЗржЯрзНрж░рзЛржЬрзЗржи", "C  ржХрж╛рж░рзНржмржи ржУ рж╣рж╛ржЗржбрзНрж░рзЛржЬрзЗржи", "D  рж╕рж╛рж▓ржлрж╛рж░ ржУ ржирж╛ржЗржЯрзНрж░рзЛржЬрзЗржи"],
    answer: "рж╣рж╛ржЗржбрзНрж░рзЛржЬрзЗржи ржУ рж╣рж┐рж▓рж┐ржпрж╝рж╛ржо"
  },
  {
    question: "ЁЯРШ ржкрзГржерж┐ржмрзАрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ рж╕рзНржерж▓ ржкрзНрж░рж╛ржгрзА ржХрзЛржиржЯрж┐?",
    options: ["A  рж╣рж╛рждрж┐", "B  ржЬрж▓рж╣рж╕рзНрждрзА", "C  ржЧржгрзНржбрж╛рж░", "D  ржЬрж┐рж░рж╛ржл"],
    answer: "рж╣рж╛рждрж┐"
  },
  {
    question: "тП░ рзз ржШржирзНржЯрж╛рзЯ ржХржд ржорж┐ржирж┐ржЯ?",
    options: ["A  рзмрзж", "B  рзнрзж", "C  рзйрзж", "D  рззрзирзж"],
    answer: "рзмрзж"
  },
  {
    question: "ЁЯза ржорж╛ржирзБрж╖рзЗрж░ ржорж╕рзНрждрж┐рж╖рзНржХрзЗрж░ рж░ржЩ ржХрзА?",
    options: ["A  ржзрзВрж╕рж░", "B  рж╕рж╛ржжрж╛", "C  ржирзАрж▓", "D  рж▓рж╛рж▓"],
    answer: "ржзрзВрж╕рж░"
  },

  // ЁЯОЙ Fun / Tricky
  {
    question: "ЁЯШВ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржорж┐рж╖рзНржЯрж┐ ржЬрзЗрж▓рж╛ ржХрзЛржиржЯрж┐?",
    options: ["A  ржпрж╢рзЛрж░", "B  ржмржЧрзБржбрж╝рж╛", "C  ржирж╛ржЯрзЛрж░", "D  ржоржпрж╝ржоржирж╕рж┐ржВрж╣"],
    answer: "ржирж╛ржЯрзЛрж░"
  },
  {
    question: "ЁЯШЛ ржкрж╛ржирзНрждрж╛ ржнрж╛ржд ржХрзЛржи ржЙрзОрж╕ржмрзЗ ржЦрж╛ржУржпрж╝рж╛ рж╣ржпрж╝?",
    options: ["A  ржкрж╣рзЗрж▓рж╛ ржмрзИрж╢рж╛ржЦ", "B  ржИржж", "C  ржжрзБрж░рзНржЧрж╛ржкрзВржЬрж╛", "D  ржмржбрж╝ржжрж┐ржи"],
    answer: "ржкрж╣рзЗрж▓рж╛ ржмрзИрж╢рж╛ржЦ"
  },
  {
    question: "ЁЯРФ ржХрзЛржи ржкрзНрж░рж╛ржгрзА рж╕ржХрж╛рж▓рзЗ ржбрж╛ржХ ржжрзЗржпрж╝?",
    options: ["A  ржорзБрж░ржЧрж┐", "B  ржорзЛрж░ржЧ", "C  рж╣рж╛ржБрж╕", "D  ржкрж╛ржЦрж┐"],
    answer: "ржорзЛрж░ржЧ"
  },
  {
    question: "ЁЯУ▒ ржлрзЗрж╕ржмрзБржХрзЗрж░ ржкрзНрж░рждрж┐рж╖рзНржарж╛рждрж╛ ржХрзЗ?",
    options: ["A  ржорж╛рж░рзНржХ ржЬрж╛ржХрж╛рж░ржмрж╛рж░рзНржЧ", "B  ржЗрж▓ржи ржорж╛рж╕рзНржХ", "C  ржмрж┐рж▓ ржЧрзЗржЯрж╕", "D  рж╕рзНржЯрж┐ржн ржЬржмрж╕"],
    answer: "ржорж╛рж░рзНржХ ржЬрж╛ржХрж╛рж░ржмрж╛рж░рзНржЧ"
  },
  {
    question: "ЁЯТ╗ GPT рждрзИрж░рж┐ ржХрж░рзЗржЫрзЗ ржХрзЗ?",
    options: ["A  ржЧрзБржЧрж▓", "B  ржУржкрзЗржиржПржЖржЗ", "C  ржорзЗржЯрж╛", "D  ржЯрзБржЗржЯрж╛рж░"],
    answer: "ржУржкрзЗржиржПржЖржЗ"
  }
];

// ЁЯза Store active quiz
const activeQuiz = new Map();

module.exports = {
  config: {
    name: "quiz",
    aliases: ["question", "exam"],
    version: "3.0",
    author: "Helal + GPT-5",
    countDown: 5,
    role: 0,
    category: "fun",
    shortDescription: { en: "Play random quizzes cleanly styled for Messenger" }
  },

  // /quiz trigger
  onStart: async function ({ message }) {
    const random = quizList[Math.floor(Math.random() * quizList.length)];

    const quizText = [
      `${random.question}`,
      "",
      ...random.options,
      "",
      "ЁЯСЙ ржЙрждрзНрждрж░ ржжрж┐рждрзЗ ржПржЗ ржорзЗрж╕рзЗржЬрзЗрж░ рж░рж┐ржкрзНрж▓рж╛ржЗ ржХрж░рзЛред"
    ].join("\n");

    const sent = await message.reply({ body: quizText });
    activeQuiz.set(sent.messageID, { ...random, askedBy: message.senderID });
  },

  // on reply
  onReply: async function ({ message, event }) {
    const quiz = activeQuiz.get(event.messageReply?.mid || event.messageReply?.message_id);
    if (!quiz) return;

    const userAnswer = event.body.trim().toLowerCase();
    const correct = quiz.answer.trim().toLowerCase();

    if (userAnswer.includes(correct)) {
      await message.reply(`ЁЯОЙ тЬЕ ржЕржнрж┐ржиржирзНржжржи! рждрзЛржорж╛рж░ ржЙрждрзНрждрж░ рж╕ржарж┐ржХ!\n\nЁЯМЯ рж╕ржарж┐ржХ ржЙрждрзНрждрж░ тЮЬ ${quiz.answer}`);
    } else {
      await message.reply(`тЭМ ржнрзБрж▓ ржЙрждрзНрждрж░!\n\nЁЯУШ рж╕ржарж┐ржХ ржЙрждрзНрждрж░ рж╣рж▓рзЛ тЮЬ тЬи ${quiz.answer} тЬи`);
    }

    activeQuiz.delete(event.messageReply?.mid || event.messageReply?.message_id);
  }
};
